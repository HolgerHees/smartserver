- name: install required packages
  zypper:
    name: [
        docker
    ]
    state: present
  notify: "restart docker"

- name: copy config
  template:
    src: "roles/docker/templates/etc/docker/{{item}}"
    dest: "/etc/docker/{{item}}"
    owner: root
    group: root
    mode: 0644
  with_items:
    - daemon.json
  notify: "restart docker"

- name: check enabled docker
  systemd:
    enabled: yes
    name: docker
