- name: install required packages
  zypper:
    name: [
        docker,
        python2-docker  # used by ansible docker module
    ]
    state: present
  notify: "restart docker"

- name: copy config
  template:
    src: "roles/docker/templates/etc/docker/{{item}}"
    dest: "/etc/docker/{{item}}"
    owner: root
    group: root
    mode: 0644
  with_items:
    - daemon.json
  notify: "restart docker"
