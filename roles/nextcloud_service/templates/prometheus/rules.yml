groups:
- name: nextcloud_service
  rules:
  - alert: Nextcloud worker process crashed
    expr: 'nextcloud_service_process{group="main"} == 0'
    for: 0m
    labels:
      notifyGroup: "nextcloud_service"
      severity: critical
    annotations:
      summary: "Worker process crashed"
  - alert: Nextcloud app was not successful
    expr: 'nextcloud_service_process{group="app"} == 0'
    for: 15m
    labels:
      notifyGroup: "nextcloud_service"
      severity: critical
    annotations:
      summary: "Nextcloud app was not successful since 15 minutes"
