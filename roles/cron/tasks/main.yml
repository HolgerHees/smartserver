- name: install required packages on fedora
  yum:
    name: [
        jq
      , cronie
    ]
    state: present
  when: ansible_distribution == 'Fedora'
  
- name: install required packages on suse
  zypper:
    name: [
        jq
      , cronie
    ]
    state: present
  when: ansible_distribution == 'openSUSE Leap'

- name: copy crony cmd
  template:
    src: "roles/cron/templates/crony.sh"
    dest: "/usr/bin/crony.sh"
    owner: root
    group: root
    mode: 0755

